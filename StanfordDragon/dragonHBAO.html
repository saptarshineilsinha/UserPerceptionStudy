<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" media="all" href="../Slider/jquery-ui.css">
    <link rel="stylesheet" type="text/css" media="all" href="../Slider/slider.css"/>

    <script type="text/javascript" src="../Slider/jquery.js"></script>
    <script type="text/javascript" src="../Slider/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../XML3D/xml3d-4.8.js"></script>
    <script type="text/javascript" src="../XML3D/camera.js"></script>
    <script type="text/javascript" src="../XML3D/blender-xflow.js"></script>


    <script type="text/javascript" src="../pipelines/hbaoPipeline.js"></script>

    <script type="text/javascript">
        $(function () {
            $(".slider").slider({
                orientation: "horizontal",
                range: "min"
            });
            //hbao
            $("#slider_radius_hbao").slider({min: 0.0, max: 3.0, value: 0.6, step: 0.1,
                slide: function (event, ui) {
                    window.radius_hbao = ui.value;
                    $('#value_radius').text(ui.value);
                    var xml3dElement1 = document.getElementById("Scene1");
                    xml3dElement1.getRenderInterface().context.requestRedraw();
                }});
            $("#slider_angleBias").slider({min: 0.0, max: 1.0, value: 0.3, step: 0.01,
                slide: function (event, ui) {
                    window.angleBias = ui.value;
                    $('#value_angleBias').text(ui.value);
                    var xml3dElement1 = document.getElementById("Scene1");
                    xml3dElement1.getRenderInterface().context.requestRedraw();
                }});
            window.radius_hbao = $('#slider_radius_hbao').slider("value");
            window.angleBias = $('#slider_angleBias').slider("value");
            $('#value_radius').text($('#slider_radius_hbao').slider("value"));
            $('#value_angleBias').text($('#slider_angleBias').slider("value"));
        });
    </script>
    <script>
        XML3D.options.setValue("renderer-ssao", true);
        window.onlyAO=false;
        //
    </script>

    <title>SSAO Produced with Cornell Box</title>
</head>
<body>
<table cellspacing="50">
    <tr>
        <td>
             <span>
              <h1 style="font-family:verdana">Horizon Based Ambient Occlusion</h1>
            </span>
            <xml3d id="Scene1" activeView="#v_Camera_Perspective2" style="width: 1280px; height: 1080px; background-color:rgb(122,122,122);">
                <defs>
                    <lightshader script="urn:xml3d:lightshader:directional" compute="intensity = xflow.blenderSun(color, energy)" id="ls_Sun_Light">
                        <float3 name="color">1.0000 0.9569 0.8980</float3>
                        <float name="energy">1.0000</float>
                    </lightshader>
                </defs>
                <view id="v_view"></view>
                <group id="default" class="layer-0">
                    <model src="assets/assets-0.xml#default"></model>
                </group>
                <group id="Camera_Perspective2" class="layer-0" style="transform:matrix3d(0.948605,-0.316406,0.005983,0.000000,0.236228,0.720554,0.651919,0.000000,-0.210582,-0.617000,0.758265,0.000000,-6.654858,-14.333828,22.276533,1.000000);">
                    <view id="v_Camera_Perspective2"></view>
                </group>
                <group id="Plane" class="layer-0">
                    <model src="assets/assets-1.xml#Plane"></model>
                </group>
                <group id="LightPreset" class="layer-0" style="transform:matrix3d(1.000000,0.000000,0.000000,0.000000,0.000000,1.000000,0.000000,0.000000,0.000000,0.000000,1.000000,0.000000,0.000000,0.000000,4.969950,1.000000);">
                    <group id="Sun_Light" class="layer-0" style="transform:matrix3d(0.863248,-0.444444,0.239316,0.000000,0.239316,0.777778,0.581196,0.000000,-0.444444,-0.444444,0.777778,0.000000,-28.186800,-28.186800,49.326900,1.000000);">
                        <light shader="#ls_Sun_Light"></light>
                    </group>
                    <group id="Sky_Light" class="layer-0" style="transform:matrix3d(1.000000,0.000000,0.000000,0.000000,0.000000,-0.000000,1.000000,0.000000,0.000000,-1.000000,-0.000000,0.000000,0.000000,0.000000,0.000000,1.000000);"></group>
                </group>
            </xml3d>
        </td>


        <div class="controls">
            <td>
                <label><b> HBAO Parameters </b></label>

                <div class="option">
                    <label>Radius Hbao</label>

                    <div id="slider_radius_hbao" class="slider">
                    </div>
                    <span id="value_radius"></span>

                    <div class="option">
                    </div>
                    <label>Angle Bias</label>

                    <div id="slider_angleBias" class="slider"></div>
                    <span id="value_angleBias"></span>
                </div>
            </td>

        </div>
    </tr>
</table>
</body>
</html>